(function(r,i,o,s,u,m,S,d){"use strict";const h=o.findByStoreName("DeveloperOptionsStore"),f=o.findByProps("setDeveloperOptionSettings"),l=function(e){return f.setDeveloperOptionSettings({bugReporterEnabled:e})};function v(){const e=h.isBugReporterEnabled;l(!i.storage.disableBugReporter);const n=s.before("setDeveloperOptionSettings",f,function(t){var a;!i.storage.disableBugReporter||!(!((a=t[0])===null||a===void 0)&&a.bugReporterEnabled)||(t[0].bugReporterEnabled=!1)});return function(){n(),l(e)}}const R=o.findByProps("addFiles","popFirstFile");function y(){return s.before("addFiles",R,function(e){var n;i.storage.fixJSONUploads&&((n=e[0])===null||n===void 0||n.files.forEach(function(t){t.mimeType==="application/json"&&(t.mimeType="text/plain")}))})}const E=o.findByProps("canUseClientThemes"),g=o.findByProps("setShouldSyncAppearanceSettings"),b=g.setShouldSyncAppearanceSettings;function F(){const e=[];return b(!1),e.push(s.before("setShouldSyncAppearanceSettings",g,function(n){i.storage.enableClientThemes&&(n[0]=!1)})),e.push(s.after("canUseClientThemes",E,function(n,t){return t||i.storage.enableClientThemes})),function(){e.forEach(function(n){return n()}),b(!0)}}const{FormSection:B,FormRow:N,FormSwitchRow:T,FormDivider:D}=d.Forms,O=[{title:"Quality of Life",items:[{label:"Forcibly disable Bug Reporter",subLabel:"Prevent enabling Discord's Bug Reporter, since the value of built-in toggle does not persist.",icon:"ic_noise_cancellation_disabled",setting:"disableBugReporter",action:function(){return l(!1)}}]},{title:"Fixes",items:[{label:"JSON file uploads",subLabel:"Fix a long-standing Discord bug causing JSON files to be uploaded with their metadata as contents.",icon:"ic_file_upload_24px",setting:"fixJSONUploads"}]},{title:"Forbidden Fruit",disclaimer:"These features grant certain Nitro perks without Nitro, take caution when using them.",items:[{label:"Enable Client Themes",subLabel:"Forcibly enable Discord's themes, regardless of if you have Nitro.",icon:"ic_theme_24px",setting:"enableClientThemes"}]}];function _(){return m.useProxy(i.storage),React.createElement(u.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},O.map(function(e,n){return React.createElement(B,{title:e.title,titleStyleType:n===0?"no_border":void 0},e.disclaimer&&React.createElement(u.ReactNative.View,{style:{marginHorizontal:10,marginBottom:10}},React.createElement(d.HelpMessage,{messageType:0},e.disclaimer)),e.items.map(function(t,a){return React.createElement(React.Fragment,null,React.createElement(T,{label:t.label,subLabel:t.subLabel,leading:t.icon&&React.createElement(N.Icon,{source:S.getAssetIDByName(t.icon)}),disabled:t.disabled,value:i.storage[t.setting],onValueChange:function(p){var c;(c=t.action)===null||c===void 0||c.call(t,p),i.storage[t.setting]=p}}),a!==e.items.length-1&&React.createElement(D,null))}))}))}i.storage.fixJSONUploads??=!0;const w=[v(),y(),F()],x=function(){return w.forEach(function(e){return e()})};return r.onUnload=x,r.settings=_,r})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.storage,vendetta.ui.assets,vendetta.ui.components);
